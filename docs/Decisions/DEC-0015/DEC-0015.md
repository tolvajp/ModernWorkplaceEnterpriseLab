# Decision Log – Human User Account Lifecycle Model
(refined user identity creation, pairing, lifecycle, and emergency boundaries)

---

## Decision ID
- **ID:** DEC-0015
- **Status:** Draft
- **Date:** 2026-01-14
- **Owner:** Peter Tolvaj

---

## Supersedes

- **Supersedes:** DEC-0004 — Account and Administrative Role Model

DEC-0004 is superseded because it mixed early assumptions with incomplete lifecycle
rules and did not fully align with the later-established MFA, Conditional Access,
and privilege models.  
DEC-0015 replaces DEC-0004 as the **authoritative user account lifecycle decision**.

---

## Decision Domain

This decision defines the **human user account lifecycle model** for the Modern Workplace
Enterprise Lab.

It refines and formalizes:
- how **human user identities** are created
- how **standard and administrative accounts** relate
- how identities are **ended**
- how **emergency (break-glass) identities** are treated
- which concerns are **explicitly out of scope**

This decision is **not a greenfield baseline**.  
It is written **after** and **in alignment with** already accepted decisions covering:
- MFA requirements and authentication method constraints
- Conditional Access scope and enforcement model
- Privileged role assignment and PIM behavior

DEC-0015 provides the **identity lifecycle foundation** those decisions rely on.

---

## Context / Why This Decision Exists

DEC-0004 established an initial separation between standard and administrative accounts,
but left several critical questions unresolved:

- how identities are created in a reproducible way
- how lifecycle termination should be handled safely
- how administrative identities relate deterministically to human users
- how emergency access fits into the model without weakening security

Since DEC-0004, the lab has matured:
- MFA and Conditional Access are explicitly modeled and enforced
- authentication scoping groups are defined
- privilege assignment is group-mediated and PIM-aware

At this stage, the identity model must be **precise, auditable, and lifecycle-safe**.
DEC-0015 exists to correct and complete the human identity model so that:
- identity creation is engineered, not ad-hoc
- privileged access has a clear ownership model
- emergency access remains reliable
- later automation can evolve without redefining fundamentals

---

## Related (Already Accepted) Decisions

This decision **depends on and assumes** the following domains are already decided:

- MFA baseline and authentication method categorization
- Conditional Access model (sign-in gate, break-glass exclusions)
- Authentication scoping via explicit identity groups
- Group-based role assignment and PIM model
- Group taxonomy and naming rules

DEC-0015 intentionally **does not redefine** these areas.

---

## Atomic Decisions

### DEC-0015-1 — Human user account creation is script-based

**Decision**  
All **human user accounts** are created **exclusively via script**.

- Manual creation is not a supported creation path.
- Manual actions are allowed only:
  - for **customization not supported by the script**, or
  - to implement **later decisions** before automation exists.

**Rationale / Reasoning**  
The lab demonstrates engineering decisions, not manual administration.
Allowing ad-hoc user creation would:
- break reproducibility
- obscure identity provenance
- weaken the enforcement of MFA, CA, and privilege scoping

Scripted creation establishes a deterministic baseline without requiring
every possible attribute to be automated from day one.


---

### DEC-0015-2 — Manual changes are exception-based, not an alternative model

**Decision**  
Manual changes to user accounts are permitted only when:
1) the creation script does not support the required change, or  
2) a later decision requires updates not yet automated.

Manual handling is **exceptional**, not an alternative operating mode.

**Rationale / Reasoning**  
The lab evolves through decisions.
Blocking progress until full automation exists would slow learning,
but allowing unrestricted manual changes would erode the model.

This rule keeps manual work explicitly transitional.

---

### DEC-0015-3 — Every person has exactly one standard account

**Decision**  
Each human user is represented by **exactly one standard (normal) account**.

This account is mandatory and represents the person’s primary identity.

**Rationale / Reasoning**  
The standard account is the anchor for:
- identity ownership
- authentication scope
- lifecycle termination
- audit ancor


Without a mandatory standard account, administrative identities lose
their human binding.

---

### DEC-0015-4 — Administrative accounts are paired complements

**Decision**  
Administrative accounts are **paired complements** of standard accounts.

- An administrative account cannot exist without its paired standard account.
- Administrative accounts exist solely for privileged operations.

**Rationale / Reasoning**  
Pairing prevents orphaned admin identities and ensures:
- every privileged action is traceable to a person
- standard and privileged usage are cleanly separated

This aligns with MFA and CA decisions that treat admin identities
as higher-risk interactive identities.

---

### DEC-0015-5 — Paired accounts are lifecycle-coupled

**Decision**  
The standard account and its paired administrative account:
- are created together (when admin access is needed)
- are disabled together
- are deleted together

**Rationale / Reasoning**  
Lifecycle coupling prevents partial deprovisioning.
A departed identity must not leave behind privileged remnants.

This rule strengthens hygiene and auditability.

---

### DEC-0015-6 — Administrative account issuance is role-driven

**Decision**  
Administrative accounts are issued **only when privileged roles are required**
(e.g. Entra roles, Azure roles).

They are not pre-created “just in case”.

**Rationale / Reasoning**  
Privileged identity existence should be intentional and justified.
This reduces unnecessary attack surface and keeps privilege explicit.

---

### DEC-0015-7 — Administrative account naming is deterministic (`a-` prefix)

**Decision**  
Administrative accounts are deterministically derived from standard accounts
by applying an `a-` prefix.

**Rationale / Reasoning**  
Deterministic naming:
- makes ownership obvious
- simplifies automation
- reduces operational error

The mapping rule is invariant; implementation details must honor it.

---

### DEC-0015-8 — Deprovision model is direct delete (platform-protected)

**Decision**  
When a human identity lifecycle ends:

- both the standard account and its paired administrative account are **deleted directly**
- no intermediate “disabled” state is required or enforced

Account deletion relies on the platform’s built-in **soft-delete mechanism** as protection
against accidental removal.

**Rationale / Reasoning**  
Direct deletion expresses clear and unambiguous lifecycle intent: the identity is no longer valid.

Safety against accidental deletion is already provided by the platform:
- Entra ID retains deleted user objects in a **soft-deleted state** for a fixed recovery window
- this mechanism is sufficient to handle operational mistakes without introducing an additional
  manual lifecycle step

Identity lifecycle and data lifecycle are intentionally separated:
- this decision governs **identity objects only**
- workload data retention (mailbox, OneDrive, Teams, etc.) is handled by **retention/compliance
  policies**, if and when they are introduced

Retention policies are **not required** for this decision to be valid.
If implemented later, they belong to a **separate decision domain**.


---

### DEC-0015-9 — UPN reuse is allowed after deletion

**Decision**  
UPN reuse is allowed after account deletion.

- No permanent UPN reservation or tombstone registry is maintained.
- Platform default behavior is accepted.

**Rationale / Reasoning**  
Security and audit reasoning rely on immutable identifiers (objectId),
not on UPN continuity.

Preventing reuse would require additional governance and state that
does not meaningfully improve the lab’s security model.

---

### DEC-0015-10 — Break-glass accounts are domain-level and lifecycle-independent

**Decision**  
The tenant contains exactly **two break-glass accounts**:

- domain-level emergency identities
- not tied to any person
- not lifecycle-coupled to standard or admin accounts
- credentials stored offline (“in a safe”)

**Rationale / Reasoning**  
Break-glass access must remain available even when:
- identities are misconfigured
- Conditional Access produces false positives
- automation fails

Person-bound lifecycle coupling would undermine the purpose
of emergency access.

---

### DEC-0015-11 — Break-glass account sign-in must generate an alert

**Decision**  
Any sign-in attempt using a **break-glass account** MUST generate an **alert** and
operational visibility.

This applies to:
- successful sign-ins
- failed sign-in attempts

The alert requirement is unconditional and does not depend on:
- location
- device state
- authentication method
- Conditional Access outcome

**Rationale / Reasoning**  
Break-glass accounts exist solely for **emergency recovery scenarios** and are explicitly
excluded from normal enforcement mechanisms (e.g. MFA or Conditional Access).

As a consequence:
- any use of a break-glass account represents an **exceptional event**
- such events must never occur **silently**

Alerting does not imply that the sign-in is blocked or incorrect.
It ensures that emergency access is:
- visible
- reviewable
- attributable

This preserves the integrity of the break-glass model:  
access is always possible, but **never invisible**.

---

### DEC-0015-12 — Administrative account without a paired standard account must generate an alert

**Decision**  
The existence of an **administrative account without its paired standard account**
MUST generate an **alert** and operational visibility.

This condition is considered a **model violation** and must not exist silently.

**Rationale / Reasoning**  
A core invariant of the human identity model is that administrative accounts are
**paired complements** of standard user accounts.

An administrative account without its corresponding standard account indicates:
- broken lifecycle coupling
- incomplete deprovisioning
- or manual intervention that violated the identity model

Preventing this state in all cases is not always feasible.
However, allowing it to persist without visibility would undermine:
- audit traceability
- ownership clarity
- confidence in the identity lifecycle model

Requiring alerting ensures that violations of this invariant are:
- detectable
- actionable
- auditable

This preserves model integrity without over-constraining implementation.


## Consequences and Trade-offs

**Benefits**
- Reproducible, engineered identity creation
- Clear ownership of privileged identities
- Strong lifecycle hygiene
- Emergency access remains reliable
- Alignment with existing MFA, CA, and PIM decisions

**Accepted Trade-offs**
- Manual changes exist temporarily by design
- UPN cannot be treated as a permanent identity key
- Data retention is deferred to other domains
