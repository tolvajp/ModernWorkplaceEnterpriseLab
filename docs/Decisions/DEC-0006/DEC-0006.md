# Decision Log — Group-based Privileged Identity Management (PIM) for Entra ID Roles

**Decision ID:** DEC-0006  
**Status:** ACCEPTED  
**Date:** 2025-12-29  
**Owner:** Peter Tolvaj

---

## Context

The Modern Workplace Enterprise Lab aims to model a realistic, enterprise-grade identity governance baseline for Microsoft Entra ID. Administrative access must be auditable, time-bound, and consistently applied across all privileged roles.

Direct user-to-role assignments create implicit privileges, reduce auditability, and complicate automation and drift detection. To address this, privileged access must be mediated through a clearly defined abstraction that separates *eligibility*, *activation*, and *operational state*.

This decision defines the governance model for **group-based Privileged Identity Management (PIM)** applied to **permanent, non-expiring Entra ID directory role assignments**.

Temporary or project-based access patterns are intentionally excluded from this model and are expected to be handled via **Access Packages (Entitlement Management)** under a separate decision, which may or may not be implemented in this lab.

---

## Decision

### 1. Role Assignment Model

**Decision**  
- **All permanent Entra ID directory role assignments are mediated exclusively through groups**.
- **No Entra role is ever assigned directly to a user**.
- This rule applies strictly to **non-expiring (baseline) role eligibility or activation**.

**Rationale**  
Group-based role assignment introduces a stable abstraction layer between identities and privileges. It enables deterministic automation, simplifies audit trails, and prevents privilege sprawl caused by ad-hoc direct assignments.  
Limiting this model to *permanent* assignments avoids conflating baseline operational roles with temporary or project-driven access patterns, which have different governance needs.

---

### 2. Scope Definition

**Decision**

**In Scope**
- Microsoft Entra ID *directory roles*
- **Permanent (non-expiring) role eligibility or activation**
- Group-based PIM eligibility and activation
- Role activation policy (time-bound, MFA, justification)

**Out of Scope**
- Project-based or temporary role assignments
- Access Packages (Entitlement Management)
- Azure RBAC (subscription / resource group roles)
- Workload-specific roles (Exchange, Defender, etc.)
- Conditional Access configuration
- MFA technology selection
- Monitoring and SIEM integration
- BreakGlass Accounts

**Rationale**  
Explicit scoping prevents governance models from becoming ambiguous or overextended.  
Baseline administrative roles and project-based access serve fundamentally different purposes and must not share the same control mechanisms. Separating these concerns allows each model to remain simple, auditable, and fit-for-purpose.

---

### 3. Group-to-Role Mapping

**Decision**
- **One group represents exactly one Entra role**
- A group is bound to **either** an *Eligible* **or** an *Active* assignment — never both
- For each role, an explicit decision is made whether it is eligible (PIM-protected) or permanently active

**Rationale**  
A strict 1:1 mapping eliminates ambiguity and prevents implicit privilege escalation.  
By forcing a conscious choice between Eligible and Active, the model ensures that permanent elevation is a deliberate security decision rather than a convenience-driven default.

---

### 4. Eligible vs Active Roles

**Decision**
- Roles protected by PIM are protected **for all users**, without exception
- Group membership **never grants immediate privilege** unless the role is explicitly defined as Active
- PIM activation is mandatory to transition from eligibility to effective privilege

**Rationale**  
Security controls must be consistent to remain credible. Allowing exceptions undermines both auditability and trust in the model.  
This distinction reinforces the principle that standing access is the exception, not the norm.

---

### 5. Group Membership Governance (Lab Disclaimer)

**Decision**
- In this lab, group membership governance is **not implemented**
- If users need any roles, they get Global Administrators by definition (see DEC-0001)

**Real-world recommendation (non-implemented):**
- Group ownership should be PIM-protected
- Membership changes should require approval
- Separation of duties between role eligibility management and role usage should be enforced

**Rationale**  
The lab optimizes for architectural clarity rather than operational realism.  
Documenting this limitation explicitly prevents the lab from being misinterpreted as production guidance while preserving the integrity of the governance model.

---

### 6. Policy Hygiene — Group Membership Review

**Decision**
- **All Entra role group memberships must be reviewed at least every 6 months**
- The review must confirm that:
  - The user still requires the role
  - The role still aligns with the user’s responsibilities

**Implementation approach (non-implemented in lab):**
- The review should be enforced via a recurring task in the ticketing system
- Ownership and evidence of review should be tracked

**Rationale**  
Group-based role assignment without periodic review leads inevitably to privilege creep.  
A fixed review cadence establishes accountability without introducing complex automation.  
Ticketing systems provide a low-friction, auditable mechanism that integrates naturally with existing operational processes.  
The lab documents this requirement without implementing it to avoid unnecessary operational overhead.

---

### 7. Group Type

**Decision**
- **Security groups only**
- **Static membership only**

**Rationale**  
Dynamic group membership introduces implicit, attribute-driven privilege changes that are difficult to reason about and audit.  
Static security groups preserve deterministic behavior and make privilege state explicit.

---

### 8. Naming Convention

**Decision**

All role groups follow this strict pattern:

U-ENTRAROLE-<RoleName>-<ELIGIBLE | ACTIVE>


Rules:
- Exactly one group per role
- Exactly one state (ELIGIBLE or ACTIVE)
- Naming must fully describe role and privilege state

**Rationale**  
Names are a control surface.  
A deterministic naming convention enables human understanding, automation, and auditability without relying on tooling or undocumented knowledge.

---

## Notes

This decision governs **baseline, non-expiring Entra ID administrative roles** only.  
Project-based or time-bound access is intentionally deferred to a separate decision using Access Packages, should it ever be introduced.

This separation preserves conceptual clarity and prevents governance models from collapsing into an unmaintainable hybrid.
